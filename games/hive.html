<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hive</title>

    <!-- iOS app installation headers -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Hive">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- External CSS -->
    <link rel="stylesheet" href="hive.css">
</head>
<body>
    <div class="navbar">
        <div class="navbar-left">
            <button class="navbar-btn" id="infoBtn" title="Game Info"><i class="fas fa-info-circle"></i></button>
        </div>
        <div class="navbar-right">
            <a href="https://kkollsga.github.io/tesla" class="navbar-btn" title="Exit"><i class="fas fa-times"></i></a>
        </div>
    </div>

    <div class="game-wrapper">
        <div class="game-board">
            <div class="game-container">
                <!-- Left Column: Left Player -->
                <div class="player-column">
                    <div class="game-controls">
                        <div class="game-rules-link" id="gameRulesLink">Game Rules</div>
                        <button class="game-button" id="new-game">New Game</button>
                        <div class="zoom-controls">
                            <button class="zoom-btn" id="zoomInBtn" title="Zoom In"><i class="fas fa-plus"></i></button>
                            <button class="zoom-btn" id="zoomOutBtn" title="Zoom Out"><i class="fas fa-minus"></i></button>
                            <button class="zoom-btn" id="resetZoomBtn" title="Reset Zoom"><i class="fas fa-compress"></i></button>
                        </div>
                    </div>
                    <div class="player-info" id="player1-info">
                        <div class="player-name">Left</div>
                        <div class="player-preview blue"></div>
                        <div class="player-color">Blue</div>
                        <div class="player-dragging-label" id="player1-dragging-label"></div>
                        <div class="player-message" id="player1-message">Queen: Not Placed</div>
                        <div class="player-status" id="player1-status">Your Turn</div>
                    </div>
                </div>

                <!-- Game Board -->
                <div class="board-wrapper">
                    <div class="board-area" id="boardArea">
                        <div class="hexagon-zoom-wrapper" id="hexagonZoomWrapper">
                            <div class="hexagon-container" id="hexagonContainer"></div>
                        </div>
                    </div>
                    <div class="hand-area" id="handArea">
                        <!-- Hand insects will be generated here -->
                    </div>
                </div>

                <!-- Right Column: Right Player -->
                <div class="player-column">
                    <div class="player-info" id="player2-info">
                        <div class="player-name">Right</div>
                        <div class="player-preview orange"></div>
                        <div class="player-color">Orange</div>
                        <div class="player-dragging-label" id="player2-dragging-label"></div>
                        <div class="player-message" id="player2-message">Queen: Not Placed</div>
                        <div class="player-status" id="player2-status">Waiting...</div>
                    </div>
                    <button class="game-button" id="pass-turn">Pass Turn</button>
                </div>
            </div>
        </div>
    </div>

    <div class="piece-info-popup" id="pieceInfoPopup">
        <div class="piece-info-title" id="pieceInfoTitle">Queen</div>
        <div class="piece-info-details" id="pieceInfoDetails">Moves 1 space</div>
        <div class="piece-info-owner" id="pieceInfoOwner">Player 1</div>
    </div>

    <div class="game-setup-popup" id="gameSetupPopup">
        <div class="setup-panel">
            <div class="setup-option">
                <input type="checkbox" id="expansionMosquito" class="setup-checkbox">
                <label for="expansionMosquito">Mosquito</label>
            </div>
            <div class="setup-option">
                <input type="checkbox" id="expansionLadybug" class="setup-checkbox">
                <label for="expansionLadybug">Ladybug</label>
            </div>
            <div class="setup-option">
                <input type="checkbox" id="expansionPillbug" class="setup-checkbox">
                <label for="expansionPillbug">Pillbug</label>
            </div>
            <div class="setup-divider"></div>
            <div class="setup-option">
                <input type="checkbox" id="tournamentRules" class="setup-checkbox">
                <label for="tournamentRules">Tournament Rules</label>
            </div>
        </div>
    </div>

    <div class="info-modal" id="infoModal">
        <div class="info-panel">
            <div class="modal-title">How to Play Hive</div>
            <div class="modal-text">
                <h3>Objective</h3>
                <p>Surround your opponent's Queen bee with 6 of your insects. The player who surrounds the opponent's Queen first wins!</p>

                <h3>The Game Board</h3>
                <p>Hive is played on an expandable hexagonal board. Insects are placed on the board and can move according to their own rules. The board grows dynamically as you play.</p>

                <h3>Starting the Game</h3>
                <p>Each player starts with 11 insects in the base game:</p>
                <ul>
                    <li><strong>Queen Bee (1):</strong> Slow but powerful - must be placed by turn 3</li>
                    <li><strong>Soldier Ants (3):</strong> Can move any distance but must stay connected</li>
                    <li><strong>Beetles (2):</strong> Can climb on top of other insects</li>
                    <li><strong>Grasshoppers (3):</strong> Jump over connected insects</li>
                    <li><strong>Spiders (2):</strong> Move exactly 3 spaces around the hive</li>
                </ul>

                <h3>How to Play</h3>
                <ul>
                    <li><strong>On Your Turn:</strong> Either place a new insect from your hand OR move an insect already on the board</li>
                    <li><strong>Placing Insects:</strong> Drag from your hand and drop on a valid hexagon</li>
                    <li><strong>Moving Insects:</strong> Click an insect on the board and drag it to a valid destination</li>
                    <li><strong>Queen Placement:</strong> You MUST place your Queen by your 3rd turn</li>
                    <li><strong>Connectivity Rule:</strong> The first insect of each player must be placed next to the opponent's first insect</li>
                </ul>

                <h3>Insect Movement Rules</h3>
                <ul>
                    <li><strong>Queen Bee:</strong> Moves 1 hexagon in any direction</li>
                    <li><strong>Soldier Ant:</strong> Slides any distance in straight lines</li>
                    <li><strong>Beetle:</strong> Moves 1 space and can climb on top of other insects</li>
                    <li><strong>Grasshopper:</strong> Jumps over a continuous line of insects to land on an empty space</li>
                    <li><strong>Spider:</strong> Moves exactly 3 spaces around the hive</li>
                    <li><strong>Mosquito (Expansion):</strong> Copies abilities of adjacent insects</li>
                    <li><strong>Ladybug (Expansion):</strong> Moves exactly 2 spaces up then 1 down</li>
                    <li><strong>Pillbug (Expansion):</strong> Moves 1 space, can throw adjacent insects</li>
                </ul>

                <h3>Important Rules</h3>
                <ul>
                    <li>The hive must always remain connected - you cannot move an insect if it breaks the connection</li>
                    <li>Once the Queen is placed, you can only move insects (no new placements)</li>
                    <li>You cannot move an insect if no valid moves exist</li>
                    <li>The game ends immediately when a Queen is surrounded</li>
                </ul>

                <h3>Winning</h3>
                <p>You win when your opponent's Queen is completely surrounded by 6 of your insects (one on each adjacent hexagon).</p>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-primary" id="closeInfoBtn">Got it!</button>
            </div>
        </div>
    </div>

    <!-- External JavaScript -->
    <script src="hive.js"></script>
</body>
</html>
