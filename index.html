<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tesla Streaming Launcher</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            width: 95%;
            height: 95vh;
            max-width: 1600px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 20px;
            width: 100%;
            height: 100%;
        }

        .service-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            padding: 20px;
            background: #0a0a0a;
            border-radius: 12px;
            border: 1px solid #222;
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .service-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 100%);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .service-link:hover {
            border-color: #444;
            transform: scale(1.02);
        }

        .service-link:hover::before {
            opacity: 1;
        }

        .icon {
            width: 80px;
            height: 80px;
            margin-bottom: 15px;
        }

        .service-name {
            color: #fff;
            font-size: 18px;
            font-weight: 500;
            text-align: center;
            letter-spacing: 0.3px;
        }

        /* Service-specific colors */
        .netflix { border-color: #E50914; }
        .netflix:hover { border-color: #E50914; box-shadow: 0 0 20px rgba(229, 9, 20, 0.3); }
        
        .plex { border-color: #E5A00D; }
        .plex:hover { border-color: #E5A00D; box-shadow: 0 0 20px rgba(229, 160, 13, 0.3); }
        
        .youtube { border-color: #FF0000; }
        .youtube:hover { border-color: #FF0000; box-shadow: 0 0 20px rgba(255, 0, 0, 0.3); }
        
        .tv2 { border-color: #00B2A9; }
        .tv2:hover { border-color: #00B2A9; box-shadow: 0 0 20px rgba(0, 178, 169, 0.3); }
        
        .nrk { border-color: #0071BC; }
        .nrk:hover { border-color: #0071BC; box-shadow: 0 0 20px rgba(0, 113, 188, 0.3); }
        
        .viaplay { border-color: #6B3FA0; }
        .viaplay:hover { border-color: #6B3FA0; box-shadow: 0 0 20px rgba(107, 63, 160, 0.3); }
        
        .hbo { border-color: #7B3CFF; }
        .hbo:hover { border-color: #7B3CFF; box-shadow: 0 0 20px rgba(123, 60, 255, 0.3); }
        
        .apple { border-color: #555; }
        .apple:hover { border-color: #888; box-shadow: 0 0 20px rgba(136, 136, 136, 0.3); }
        
        .globo { border-color: #0047BB; }
        .globo:hover { border-color: #0047BB; box-shadow: 0 0 20px rgba(0, 71, 187, 0.3); }

        .solitaire { border-color: #2563eb; }
        .solitaire:hover { border-color: #3b82f6; box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }

        .fullscreen-btn { border-color: #333; }
        .fullscreen-btn:hover { border-color: #666; box-shadow: 0 0 20px rgba(102, 102, 102, 0.3); }

        .games { border-color: #8B1538; }
        .games:hover { border-color: #DC2626; box-shadow: 0 0 20px rgba(139, 21, 56, 0.5); }

        /* Game selection modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: #0a0a0a;
            border-radius: 16px;
            border: 1px solid #333;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            position: relative;
        }

        .modal-header {
            color: #fff;
            font-size: 28px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 30px;
            letter-spacing: 0.5px;
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .game-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 30px 20px;
            background: #111;
            border-radius: 12px;
            border: 2px solid #222;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            position: relative;
        }

        .game-option:hover {
            transform: scale(1.05);
            border-color: #444;
        }

        .game-option.isola-option {
            border-color: #8B1538;
        }

        .game-option.isola-option:hover {
            border-color: #DC2626;
            box-shadow: 0 0 30px rgba(139, 21, 56, 0.6);
        }

        .game-option.santorini-option {
            border-color: #4A90E2;
        }

        .game-option.santorini-option:hover {
            border-color: #87CEEB;
            box-shadow: 0 0 30px rgba(74, 144, 226, 0.6);
        }

        .game-option.chess-option {
            border-color: #5A5A5A;
        }

        .game-option.chess-option:hover {
            border-color: #E8E8E8;
            box-shadow: 0 0 30px rgba(232, 232, 232, 0.4);
        }

        .game-option.solitaire-option {
            border-color: #2563eb;
        }

        .game-option.solitaire-option:hover {
            border-color: #3b82f6;
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.6);
        }

        .game-option.damme-option {
            border-color: #DC2626;
        }

        .game-option.damme-option:hover {
            border-color: #EF4444;
            box-shadow: 0 0 30px rgba(220, 38, 38, 0.6);
        }

        .game-option.backgammon-option {
            border-color: #8B5A2B;
        }

        .game-option.backgammon-option:hover {
            border-color: #C45C26;
            box-shadow: 0 0 30px rgba(196, 92, 38, 0.6);
        }

        .game-option.sudoku-option {
            border-color: #8b5cf6;
        }

        .game-option.sudoku-option:hover {
            border-color: #a78bfa;
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
        }

        .game-option.hive-option {
            border-color: #2d7a4f;
        }

        .game-option.hive-option:hover {
            border-color: #4a9f68;
            box-shadow: 0 0 30px rgba(45, 122, 79, 0.6);
        }

        .game-icon {
            width: 100px;
            height: 100px;
            margin-bottom: 15px;
        }

        .game-name {
            color: #fff;
            font-size: 20px;
            font-weight: 500;
            text-align: center;
        }

        .favorite-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 1;
        }

        .favorite-indicator.active {
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
        }

        .favorite-indicator.inactive {
            color: #444;
        }

        .favorite-indicator:hover {
            transform: scale(1.2);
        }

        .favorite-game { border-color: #FFD700; }
        .favorite-game:hover { border-color: #FFA500; box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: #888;
            font-size: 32px;
            cursor: pointer;
            transition: color 0.2s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-modal:hover {
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="grid">
            <!-- Row 1 -->
            <a href="https://www.netflix.com" class="service-link netflix" data-url="https://www.netflix.com">
                <img src="icons/netflix.svg" class="icon" alt="Netflix">
                <div class="service-name">Netflix</div>
            </a>
            <a href="https://app.plex.tv" class="service-link plex" data-url="https://app.plex.tv">
                <img src="icons/plex.svg" class="icon" alt="Plex">
                <div class="service-name">Plex</div>
            </a>
            <a href="https://www.youtube.com" class="service-link youtube" data-url="https://www.youtube.com">
                <img src="icons/youtube.svg" class="icon" alt="YouTube">
                <div class="service-name">YouTube</div>
            </a>

            <!-- Row 2 -->
            <a href="https://www.tv2.no" class="service-link tv2" data-url="https://www.tv2.no">
                <img src="icons/tv2.svg" class="icon" alt="TV2">
                <div class="service-name">TV2</div>
            </a>
            <a href="https://tv.nrk.no" class="service-link nrk" data-url="https://tv.nrk.no">
                <img src="icons/nrk.svg" class="icon" alt="NRK">
                <div class="service-name">NRK</div>
            </a>
            <a href="https://viaplay.no" class="service-link viaplay" data-url="https://viaplay.no">
                <img src="icons/viaplay.svg" class="icon" alt="Viaplay">
                <div class="service-name">Viaplay</div>
            </a>

            <!-- Row 3 -->
            <a href="https://www.hbomax.com" class="service-link hbo" data-url="https://www.hbomax.com">
                <img src="icons/hbomax.svg" class="icon" alt="HBO Max">
                <div class="service-name">HBO Max</div>
            </a>
            <a href="https://tv.apple.com" class="service-link apple" data-url="https://tv.apple.com">
                <img src="icons/appletvplus.svg" class="icon" alt="Apple TV">
                <div class="service-name">Apple TV</div>
            </a>
            <a href="https://globoplay.globo.com" class="service-link globo" data-url="https://globoplay.globo.com">
                <img src="icons/globo.svg" class="icon" alt="Globo">
                <div class="service-name">Globo</div>
            </a>

            <!-- Row 4 -->
            <div class="service-link favorite-game" id="favorite-game-link">
                <!-- Icon will be dynamically inserted -->
            </div>
            <a href="https://kkollsga.github.io/tesla" class="service-link fullscreen-btn" data-url="https://kkollsga.github.io/tesla">
                <svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M25 25 L25 40 M25 25 L40 25" stroke="#888" stroke-width="4" stroke-linecap="round"/>
                    <path d="M75 25 L75 40 M75 25 L60 25" stroke="#888" stroke-width="4" stroke-linecap="round"/>
                    <path d="M25 75 L25 60 M25 75 L40 75" stroke="#888" stroke-width="4" stroke-linecap="round"/>
                    <path d="M75 75 L75 60 M75 75 L60 75" stroke="#888" stroke-width="4" stroke-linecap="round"/>
                </svg>
                <div class="service-name">Go Fullscreen</div>
            </a>
            <div class="service-link games" id="games-button">
                <svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Game controller icon -->
                    <path d="M70 35 Q85 35 85 50 Q85 65 70 65 L30 65 Q15 65 15 50 Q15 35 30 35 Z" fill="none" stroke="#8B1538" stroke-width="3"/>
                    <!-- D-pad left -->
                    <rect x="25" y="45" width="8" height="3" fill="#DC2626" rx="1"/>
                    <!-- D-pad right -->
                    <rect x="39" y="45" width="8" height="3" fill="#DC2626" rx="1"/>
                    <!-- D-pad up -->
                    <rect x="34" y="40" width="3" height="8" fill="#DC2626" rx="1"/>
                    <!-- D-pad down -->
                    <rect x="34" y="50" width="3" height="8" fill="#DC2626" rx="1"/>
                    <!-- Button A -->
                    <circle cx="65" cy="48" r="4" fill="#DC2626"/>
                    <!-- Button B -->
                    <circle cx="75" cy="53" r="4" fill="#DC2626"/>
                </svg>
                <div class="service-name">Games</div>
            </div>
        </div>
    </div>

    <!-- Game Selection Modal -->
    <div class="modal-overlay" id="game-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-modal">&times;</button>
            <div class="modal-header">Select a Game</div>
            <div class="game-grid">
                <a href="./games/solitaire.html" class="game-option solitaire-option" data-url="./games/solitaire.html" data-game="solitaire">
                    <span class="favorite-indicator" data-game="solitaire">★</span>
                    <img src="icons/solitaire.svg" class="game-icon" alt="Solitaire">
                    <div class="game-name">Solitaire</div>
                </a>
                <a href="./games/isola.html" class="game-option isola-option" data-url="./games/isola.html" data-game="isola">
                    <span class="favorite-indicator" data-game="isola">★</span>
                    <svg class="game-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Game board grid -->
                        <rect x="15" y="25" width="70" height="50" fill="none" stroke="#8B1538" stroke-width="2"/>
                        <!-- Grid lines -->
                        <line x1="15" y1="35" x2="85" y2="35" stroke="#8B1538" stroke-width="1"/>
                        <line x1="15" y1="45" x2="85" y2="45" stroke="#8B1538" stroke-width="1"/>
                        <line x1="15" y1="55" x2="85" y2="55" stroke="#8B1538" stroke-width="1"/>
                        <line x1="15" y1="65" x2="85" y2="65" stroke="#8B1538" stroke-width="1"/>
                        <line x1="27" y1="25" x2="27" y2="75" stroke="#8B1538" stroke-width="1"/>
                        <line x1="39" y1="25" x2="39" y2="75" stroke="#8B1538" stroke-width="1"/>
                        <line x1="51" y1="25" x2="51" y2="75" stroke="#8B1538" stroke-width="1"/>
                        <line x1="63" y1="25" x2="63" y2="75" stroke="#8B1538" stroke-width="1"/>
                        <line x1="75" y1="25" x2="75" y2="75" stroke="#8B1538" stroke-width="1"/>
                        <!-- Player pawns -->
                        <circle cx="27" cy="50" r="4" fill="#DC2626"/>
                        <circle cx="75" cy="50" r="4" fill="#111"/>
                    </svg>
                    <div class="game-name">Isola</div>
                </a>
                <a href="./games/santorini.html" class="game-option santorini-option" data-url="./games/santorini.html" data-game="santorini">
                    <span class="favorite-indicator" data-game="santorini">★</span>
                    <svg class="game-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- 5x5 Grid -->
                        <rect x="20" y="30" width="60" height="60" fill="none" stroke="#4A90E2" stroke-width="2"/>
                        <!-- Grid lines -->
                        <line x1="20" y1="42" x2="80" y2="42" stroke="#4A90E2" stroke-width="1"/>
                        <line x1="20" y1="54" x2="80" y2="54" stroke="#4A90E2" stroke-width="1"/>
                        <line x1="20" y1="66" x2="80" y2="66" stroke="#4A90E2" stroke-width="1"/>
                        <line x1="20" y1="78" x2="80" y2="78" stroke="#4A90E2" stroke-width="1"/>
                        <line x1="32" y1="30" x2="32" y2="90" stroke="#4A90E2" stroke-width="1"/>
                        <line x1="44" y1="30" x2="44" y2="90" stroke="#4A90E2" stroke-width="1"/>
                        <line x1="56" y1="30" x2="56" y2="90" stroke="#4A90E2" stroke-width="1"/>
                        <line x1="68" y1="30" x2="68" y2="90" stroke="#4A90E2" stroke-width="1"/>
                        <!-- Building (3 levels - top-down concentric squares) -->
                        <rect x="34.5" y="60.5" width="7" height="7" fill="#fff" stroke="#4A90E2" stroke-width="0.5" rx="0.5"/>
                        <rect x="35.5" y="61.5" width="5.5" height="5.5" fill="#f5f5f5" stroke="#4A90E2" stroke-width="0.5" rx="0.5"/>
                        <rect x="36.5" y="62.5" width="4" height="4" fill="#eee" stroke="#4A90E2" stroke-width="0.5" rx="0.5"/>
                        <!-- Dome (top-down blue circle) -->
                        <circle cx="62" cy="60" r="3.5" fill="#5AA3F0" stroke="#1E5A8F" stroke-width="0.8"/>
                        <ellipse cx="61" cy="59" rx="1.5" ry="1" fill="rgba(255,255,255,0.5)"/>
                        <!-- Workers -->
                        <circle cx="26" cy="36" r="3" fill="#4A90E2" stroke="#fff" stroke-width="1"/>
                        <circle cx="74" cy="84" r="3" fill="#FFA500" stroke="#fff" stroke-width="1"/>
                    </svg>
                    <div class="game-name">Santorini</div>
                </a>
                <a href="./games/chess.html" class="game-option chess-option" data-url="./games/chess.html" data-game="chess">
                    <span class="favorite-indicator" data-game="chess">★</span>
                    <svg class="game-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Chess board -->
                        <rect x="20" y="20" width="60" height="60" fill="none" stroke="#3D3D3D" stroke-width="2"/>
                        <!-- Checkerboard pattern -->
                        <rect x="20" y="20" width="15" height="15" fill="#E8E8E8"/>
                        <rect x="35" y="20" width="15" height="15" fill="#4A4A4A"/>
                        <rect x="50" y="20" width="15" height="15" fill="#E8E8E8"/>
                        <rect x="65" y="20" width="15" height="15" fill="#4A4A4A"/>
                        <rect x="20" y="35" width="15" height="15" fill="#4A4A4A"/>
                        <rect x="35" y="35" width="15" height="15" fill="#E8E8E8"/>
                        <rect x="50" y="35" width="15" height="15" fill="#4A4A4A"/>
                        <rect x="65" y="35" width="15" height="15" fill="#E8E8E8"/>
                        <rect x="20" y="50" width="15" height="15" fill="#E8E8E8"/>
                        <rect x="35" y="50" width="15" height="15" fill="#4A4A4A"/>
                        <rect x="50" y="50" width="15" height="15" fill="#E8E8E8"/>
                        <rect x="65" y="50" width="15" height="15" fill="#4A4A4A"/>
                        <rect x="20" y="65" width="15" height="15" fill="#4A4A4A"/>
                        <rect x="35" y="65" width="15" height="15" fill="#E8E8E8"/>
                        <rect x="50" y="65" width="15" height="15" fill="#4A4A4A"/>
                        <rect x="65" y="65" width="15" height="15" fill="#E8E8E8"/>
                        <!-- Chess pieces -->
                        <text x="27.5" y="78" font-size="12" fill="#fff" text-anchor="middle">♙</text>
                        <text x="42.5" y="63" font-size="12" fill="#000" text-anchor="middle">♟</text>
                        <text x="57.5" y="48" font-size="12" fill="#fff" text-anchor="middle">♖</text>
                        <text x="72.5" y="33" font-size="12" fill="#000" text-anchor="middle">♚</text>
                    </svg>
                    <div class="game-name">Chess</div>
                </a>
                <a href="./games/damme.html" class="game-option damme-option" data-url="./games/damme.html" data-game="damme">
                    <span class="favorite-indicator" data-game="damme">★</span>
                    <svg class="game-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Checkers board -->
                        <rect x="20" y="20" width="60" height="60" fill="none" stroke="#DC2626" stroke-width="2"/>
                        <!-- Checkerboard pattern (dark squares only) -->
                        <rect x="35" y="20" width="15" height="15" fill="#2D2D2D"/>
                        <rect x="65" y="20" width="15" height="15" fill="#2D2D2D"/>
                        <rect x="20" y="35" width="15" height="15" fill="#2D2D2D"/>
                        <rect x="50" y="35" width="15" height="15" fill="#2D2D2D"/>
                        <rect x="35" y="50" width="15" height="15" fill="#2D2D2D"/>
                        <rect x="65" y="50" width="15" height="15" fill="#2D2D2D"/>
                        <rect x="20" y="65" width="15" height="15" fill="#2D2D2D"/>
                        <rect x="50" y="65" width="15" height="15" fill="#2D2D2D"/>
                        <!-- Red pieces (top) -->
                        <circle cx="42.5" cy="27.5" r="5" fill="#EF4444" stroke="#B91C1C" stroke-width="1.5"/>
                        <circle cx="72.5" cy="27.5" r="5" fill="#EF4444" stroke="#B91C1C" stroke-width="1.5"/>
                        <circle cx="27.5" cy="42.5" r="5" fill="#EF4444" stroke="#B91C1C" stroke-width="1.5"/>
                        <!-- White pieces (bottom) -->
                        <circle cx="42.5" cy="57.5" r="5" fill="#F5F5F5" stroke="#9CA3AF" stroke-width="1.5"/>
                        <circle cx="72.5" cy="57.5" r="5" fill="#F5F5F5" stroke="#9CA3AF" stroke-width="1.5"/>
                        <circle cx="27.5" cy="72.5" r="5" fill="#F5F5F5" stroke="#9CA3AF" stroke-width="1.5"/>
                        <!-- King piece with crown -->
                        <circle cx="57.5" cy="42.5" r="5" fill="#EF4444" stroke="#B91C1C" stroke-width="1.5"/>
                        <text x="57.5" y="46" font-size="8" fill="#FFD700" text-anchor="middle" font-weight="bold">♔</text>
                    </svg>
                    <div class="game-name">Damme</div>
                </a>
                <a href="./games/backgammon.html" class="game-option backgammon-option" data-url="./games/backgammon.html" data-game="backgammon">
                    <span class="favorite-indicator" data-game="backgammon">★</span>
                    <svg class="game-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Backgammon board -->
                        <rect x="15" y="20" width="70" height="60" fill="#1a1512" stroke="#3d3428" stroke-width="2" rx="3"/>
                        <!-- Bar -->
                        <rect x="47" y="20" width="6" height="60" fill="#0d0a08"/>
                        <!-- Triangles top -->
                        <polygon points="18,22 25,45 32,22" fill="#8B5A2B"/>
                        <polygon points="32,22 39,45 46,22" fill="#4a3f30"/>
                        <polygon points="54,22 61,45 68,22" fill="#8B5A2B"/>
                        <polygon points="68,22 75,45 82,22" fill="#4a3f30"/>
                        <!-- Triangles bottom -->
                        <polygon points="18,78 25,55 32,78" fill="#4a3f30"/>
                        <polygon points="32,78 39,55 46,78" fill="#8B5A2B"/>
                        <polygon points="54,78 61,55 68,78" fill="#4a3f30"/>
                        <polygon points="68,78 75,55 82,78" fill="#8B5A2B"/>
                        <!-- Orange pieces -->
                        <circle cx="25" cy="30" r="5" fill="#C45C26" stroke="#5A2010" stroke-width="1"/>
                        <circle cx="25" cy="38" r="5" fill="#C45C26" stroke="#5A2010" stroke-width="1"/>
                        <!-- White pieces -->
                        <circle cx="75" cy="70" r="5" fill="#E8DCC4" stroke="#8A8060" stroke-width="1"/>
                        <circle cx="75" cy="62" r="5" fill="#E8DCC4" stroke="#8A8060" stroke-width="1"/>
                        <!-- Dice -->
                        <rect x="38" y="44" width="10" height="10" fill="#fff" rx="2"/>
                        <circle cx="43" cy="49" r="1.5" fill="#1a1a1a"/>
                        <rect x="52" y="44" width="10" height="10" fill="#fff" rx="2"/>
                        <circle cx="55" cy="47" r="1.5" fill="#1a1a1a"/>
                        <circle cx="59" cy="51" r="1.5" fill="#1a1a1a"/>
                    </svg>
                    <div class="game-name">Backgammon</div>
                </a>
                <a href="./games/sudoku.html" class="game-option sudoku-option" data-url="./games/sudoku.html" data-game="sudoku">
                    <span class="favorite-indicator" data-game="sudoku">★</span>
                    <svg class="game-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Sudoku grid 9x9 -->
                        <rect x="15" y="15" width="70" height="70" fill="none" stroke="#8b5cf6" stroke-width="2" rx="2"/>
                        <!-- 3x3 box borders -->
                        <line x1="40" y1="15" x2="40" y2="85" stroke="#8b5cf6" stroke-width="1.5"/>
                        <line x1="65" y1="15" x2="65" y2="85" stroke="#8b5cf6" stroke-width="1.5"/>
                        <line x1="15" y1="40" x2="85" y2="40" stroke="#8b5cf6" stroke-width="1.5"/>
                        <line x1="15" y1="65" x2="85" y2="65" stroke="#8b5cf6" stroke-width="1.5"/>
                        <!-- Sample numbers -->
                        <text x="22" y="27" font-size="8" fill="#a78bfa" text-anchor="middle">5</text>
                        <text x="32" y="27" font-size="8" fill="#a78bfa" text-anchor="middle">3</text>
                        <text x="52" y="47" font-size="8" fill="#a78bfa" text-anchor="middle">7</text>
                        <text x="62" y="57" font-size="8" fill="#a78bfa" text-anchor="middle">9</text>
                        <text x="78" y="77" font-size="8" fill="#a78bfa" text-anchor="middle">6</text>
                    </svg>
                    <div class="game-name">Sudoku</div>
                </a>
                <a href="./games/hive.html" class="game-option hive-option" data-url="./games/hive.html" data-game="hive">
                    <span class="favorite-indicator" data-game="hive">★</span>
                    <svg class="game-icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="hexGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4a9f68;stop-opacity:0.6" />
                                <stop offset="100%" style="stop-color:#1a472a;stop-opacity:0.6" />
                            </linearGradient>
                            <linearGradient id="hexGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#3d9a5f;stop-opacity:0.4" />
                                <stop offset="100%" style="stop-color:#0f3420;stop-opacity:0.4" />
                            </linearGradient>
                        </defs>

                        <!-- Top row (2 hexes) -->
                        <polygon points="38,16 45,12 52,16 52,26 45,30 38,26" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                        <polygon points="52,16 59,12 66,16 66,26 59,30 52,26" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>

                        <!-- Middle row (3 hexes) -->
                        <polygon points="31,32 38,28 45,32 45,42 38,46 31,42" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                        <polygon points="45,32 52,28 59,32 59,42 52,46 45,42" fill="url(#hexGradient1)" stroke="#2d7a4f" stroke-width="1.2"/>
                        <polygon points="59,32 66,28 73,32 73,42 66,46 59,42" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>

                        <!-- Bottom row (2 hexes) -->
                        <polygon points="38,48 45,44 52,48 52,58 45,62 38,58" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                        <polygon points="52,48 59,44 66,48 66,58 59,62 52,58" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>

                        <!-- Game pieces on center hex -->
                        <!-- Blue piece -->
                        <circle cx="48" cy="36" r="3.5" fill="#5599ff" stroke="#1155cc" stroke-width="0.8"/>
                        <!-- Orange piece -->
                        <circle cx="56" cy="36" r="3.5" fill="#ffaa44" stroke="#dd6611" stroke-width="0.8"/>
                        <!-- Blue piece -->
                        <circle cx="48" cy="44" r="3" fill="#4a7ccc" stroke="#1155cc" stroke-width="0.8"/>
                        <!-- Orange piece -->
                        <circle cx="56" cy="44" r="3" fill="#ff9922" stroke="#dd6611" stroke-width="0.8"/>

                        <!-- Queen in center -->
                        <circle cx="52" cy="40" r="2.8" fill="#FFD700" stroke="#FFA500" stroke-width="0.7"/>
                    </svg>
                    <div class="game-name">Hive</div>
                </a>
            </div>
        </div>
    </div>

    <script>
        const YOUTUBE_REDIRECT_BASE = 'https://www.youtube.com/redirect?q=';

        // Tesla browser distributions that should use YouTube redirect hack
        const TESLA_DISTRIBUTIONS = [
            { width: 1180, height: 919 }
            // Add more distributions as needed: { width: 1920, height: 1080 }
        ];

        function isTeslaDistribution() {
            const width = window.innerWidth;
            const height = window.innerHeight;

            return TESLA_DISTRIBUTIONS.some(dist =>
                width === dist.width && height === dist.height
            );
        }

        function isFullscreen() {
            if (document.fullscreenElement || document.webkitFullscreenElement) {
                return true;
            }

            const width = window.innerWidth;
            const height = window.innerHeight;
            const isLikelyTeslaFullscreen = (width >= 1800 && height >= 1000) ||
                                             (width >= window.screen.width * 0.95 &&
                                              height >= window.screen.height * 0.95);

            return isLikelyTeslaFullscreen;
        }

        function navigateToService(url, event) {
            event.preventDefault();

            // Use YouTube redirect hack only for Tesla browser distributions
            if (isTeslaDistribution()) {
                window.location.href = YOUTUBE_REDIRECT_BASE + encodeURIComponent(url);
            } else if (isFullscreen()) {
                window.location.href = url;
            } else {
                window.location.href = url;
            }
        }

        document.querySelectorAll('.service-link').forEach(link => {
            link.addEventListener('click', function(e) {
                const url = this.getAttribute('data-url');
                // Only navigate if this element has a data-url (not the games button)
                if (url) {
                    navigateToService(url, e);
                }
            });
        });

        document.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
            });
        });

        // Game modal handling
        const gameModal = document.getElementById('game-modal');
        const gamesButton = document.getElementById('games-button');
        const closeModal = document.getElementById('close-modal');

        gamesButton.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            gameModal.classList.add('active');
        });

        closeModal.addEventListener('click', function() {
            gameModal.classList.remove('active');
        });

        // Close modal when clicking outside the modal content
        gameModal.addEventListener('click', function(e) {
            if (e.target === gameModal) {
                gameModal.classList.remove('active');
            }
        });

        // Favorite game management
        const GAMES = {
            solitaire: {
                name: 'Solitaire',
                url: 'games/solitaire.html',
                icon: '<img src="icons/solitaire.svg" class="icon" alt="Solitaire">'
            },
            isola: {
                name: 'Isola',
                url: 'games/isola.html',
                icon: `<svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="15" y="25" width="70" height="50" fill="none" stroke="#8B1538" stroke-width="2"/>
                    <line x1="15" y1="35" x2="85" y2="35" stroke="#8B1538" stroke-width="1"/>
                    <line x1="15" y1="45" x2="85" y2="45" stroke="#8B1538" stroke-width="1"/>
                    <line x1="15" y1="55" x2="85" y2="55" stroke="#8B1538" stroke-width="1"/>
                    <line x1="15" y1="65" x2="85" y2="65" stroke="#8B1538" stroke-width="1"/>
                    <line x1="27" y1="25" x2="27" y2="75" stroke="#8B1538" stroke-width="1"/>
                    <line x1="39" y1="25" x2="39" y2="75" stroke="#8B1538" stroke-width="1"/>
                    <line x1="51" y1="25" x2="51" y2="75" stroke="#8B1538" stroke-width="1"/>
                    <line x1="63" y1="25" x2="63" y2="75" stroke="#8B1538" stroke-width="1"/>
                    <line x1="75" y1="25" x2="75" y2="75" stroke="#8B1538" stroke-width="1"/>
                    <circle cx="27" cy="50" r="4" fill="#DC2626"/>
                    <circle cx="75" cy="50" r="4" fill="#111"/>
                </svg>`
            },
            santorini: {
                name: 'Santorini',
                url: 'games/santorini.html',
                icon: `<svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="20" y="30" width="60" height="60" fill="none" stroke="#4A90E2" stroke-width="2"/>
                    <line x1="20" y1="42" x2="80" y2="42" stroke="#4A90E2" stroke-width="1"/>
                    <line x1="20" y1="54" x2="80" y2="54" stroke="#4A90E2" stroke-width="1"/>
                    <line x1="20" y1="66" x2="80" y2="66" stroke="#4A90E2" stroke-width="1"/>
                    <line x1="20" y1="78" x2="80" y2="78" stroke="#4A90E2" stroke-width="1"/>
                    <line x1="32" y1="30" x2="32" y2="90" stroke="#4A90E2" stroke-width="1"/>
                    <line x1="44" y1="30" x2="44" y2="90" stroke="#4A90E2" stroke-width="1"/>
                    <line x1="56" y1="30" x2="56" y2="90" stroke="#4A90E2" stroke-width="1"/>
                    <line x1="68" y1="30" x2="68" y2="90" stroke="#4A90E2" stroke-width="1"/>
                    <rect x="34.5" y="60.5" width="7" height="7" fill="#fff" stroke="#4A90E2" stroke-width="0.5" rx="0.5"/>
                    <rect x="35.5" y="61.5" width="5.5" height="5.5" fill="#f5f5f5" stroke="#4A90E2" stroke-width="0.5" rx="0.5"/>
                    <rect x="36.5" y="62.5" width="4" height="4" fill="#eee" stroke="#4A90E2" stroke-width="0.5" rx="0.5"/>
                    <circle cx="62" cy="60" r="3.5" fill="#5AA3F0" stroke="#1E5A8F" stroke-width="0.8"/>
                    <ellipse cx="61" cy="59" rx="1.5" ry="1" fill="rgba(255,255,255,0.5)"/>
                    <circle cx="26" cy="36" r="3" fill="#4A90E2" stroke="#fff" stroke-width="1"/>
                    <circle cx="74" cy="84" r="3" fill="#FFA500" stroke="#fff" stroke-width="1"/>
                </svg>`
            },
            chess: {
                name: 'Chess',
                url: 'games/chess.html',
                icon: `<svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="20" y="20" width="60" height="60" fill="none" stroke="#3D3D3D" stroke-width="2"/>
                    <rect x="20" y="20" width="15" height="15" fill="#E8E8E8"/>
                    <rect x="35" y="20" width="15" height="15" fill="#4A4A4A"/>
                    <rect x="50" y="20" width="15" height="15" fill="#E8E8E8"/>
                    <rect x="65" y="20" width="15" height="15" fill="#4A4A4A"/>
                    <rect x="20" y="35" width="15" height="15" fill="#4A4A4A"/>
                    <rect x="35" y="35" width="15" height="15" fill="#E8E8E8"/>
                    <rect x="50" y="35" width="15" height="15" fill="#4A4A4A"/>
                    <rect x="65" y="35" width="15" height="15" fill="#E8E8E8"/>
                    <rect x="20" y="50" width="15" height="15" fill="#E8E8E8"/>
                    <rect x="35" y="50" width="15" height="15" fill="#4A4A4A"/>
                    <rect x="50" y="50" width="15" height="15" fill="#E8E8E8"/>
                    <rect x="65" y="50" width="15" height="15" fill="#4A4A4A"/>
                    <rect x="20" y="65" width="15" height="15" fill="#4A4A4A"/>
                    <rect x="35" y="65" width="15" height="15" fill="#E8E8E8"/>
                    <rect x="50" y="65" width="15" height="15" fill="#4A4A4A"/>
                    <rect x="65" y="65" width="15" height="15" fill="#E8E8E8"/>
                    <text x="27.5" y="78" font-size="12" fill="#fff" text-anchor="middle">♙</text>
                    <text x="42.5" y="63" font-size="12" fill="#000" text-anchor="middle">♟</text>
                    <text x="57.5" y="48" font-size="12" fill="#fff" text-anchor="middle">♖</text>
                    <text x="72.5" y="33" font-size="12" fill="#000" text-anchor="middle">♚</text>
                </svg>`
            },
            damme: {
                name: 'Damme',
                url: 'games/damme.html',
                icon: `<svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="20" y="20" width="60" height="60" fill="none" stroke="#DC2626" stroke-width="2"/>
                    <rect x="35" y="20" width="15" height="15" fill="#2D2D2D"/>
                    <rect x="65" y="20" width="15" height="15" fill="#2D2D2D"/>
                    <rect x="20" y="35" width="15" height="15" fill="#2D2D2D"/>
                    <rect x="50" y="35" width="15" height="15" fill="#2D2D2D"/>
                    <rect x="35" y="50" width="15" height="15" fill="#2D2D2D"/>
                    <rect x="65" y="50" width="15" height="15" fill="#2D2D2D"/>
                    <rect x="20" y="65" width="15" height="15" fill="#2D2D2D"/>
                    <rect x="50" y="65" width="15" height="15" fill="#2D2D2D"/>
                    <circle cx="42.5" cy="27.5" r="5" fill="#EF4444" stroke="#B91C1C" stroke-width="1.5"/>
                    <circle cx="72.5" cy="27.5" r="5" fill="#EF4444" stroke="#B91C1C" stroke-width="1.5"/>
                    <circle cx="27.5" cy="42.5" r="5" fill="#EF4444" stroke="#B91C1C" stroke-width="1.5"/>
                    <circle cx="42.5" cy="57.5" r="5" fill="#F5F5F5" stroke="#9CA3AF" stroke-width="1.5"/>
                    <circle cx="72.5" cy="57.5" r="5" fill="#F5F5F5" stroke="#9CA3AF" stroke-width="1.5"/>
                    <circle cx="27.5" cy="72.5" r="5" fill="#F5F5F5" stroke="#9CA3AF" stroke-width="1.5"/>
                    <circle cx="57.5" cy="42.5" r="5" fill="#EF4444" stroke="#B91C1C" stroke-width="1.5"/>
                    <text x="57.5" y="46" font-size="8" fill="#FFD700" text-anchor="middle" font-weight="bold">♔</text>
                </svg>`
            },
            backgammon: {
                name: 'Backgammon',
                url: 'games/backgammon.html',
                icon: `<svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="15" y="20" width="70" height="60" fill="#1a1512" stroke="#3d3428" stroke-width="2" rx="3"/>
                    <rect x="47" y="20" width="6" height="60" fill="#0d0a08"/>
                    <polygon points="18,22 25,45 32,22" fill="#8B5A2B"/>
                    <polygon points="32,22 39,45 46,22" fill="#4a3f30"/>
                    <polygon points="54,22 61,45 68,22" fill="#8B5A2B"/>
                    <polygon points="68,22 75,45 82,22" fill="#4a3f30"/>
                    <polygon points="18,78 25,55 32,78" fill="#4a3f30"/>
                    <polygon points="32,78 39,55 46,78" fill="#8B5A2B"/>
                    <polygon points="54,78 61,55 68,78" fill="#4a3f30"/>
                    <polygon points="68,78 75,55 82,78" fill="#8B5A2B"/>
                    <circle cx="25" cy="30" r="5" fill="#C45C26" stroke="#5A2010" stroke-width="1"/>
                    <circle cx="25" cy="38" r="5" fill="#C45C26" stroke="#5A2010" stroke-width="1"/>
                    <circle cx="75" cy="70" r="5" fill="#E8DCC4" stroke="#8A8060" stroke-width="1"/>
                    <circle cx="75" cy="62" r="5" fill="#E8DCC4" stroke="#8A8060" stroke-width="1"/>
                    <rect x="38" y="44" width="10" height="10" fill="#fff" rx="2"/>
                    <circle cx="43" cy="49" r="1.5" fill="#1a1a1a"/>
                    <rect x="52" y="44" width="10" height="10" fill="#fff" rx="2"/>
                    <circle cx="55" cy="47" r="1.5" fill="#1a1a1a"/>
                    <circle cx="59" cy="51" r="1.5" fill="#1a1a1a"/>
                </svg>`
            },
            sudoku: {
                name: 'Sudoku',
                url: 'games/sudoku.html',
                icon: `<svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="15" y="15" width="70" height="70" fill="none" stroke="#8b5cf6" stroke-width="2" rx="2"/>
                    <line x1="40" y1="15" x2="40" y2="85" stroke="#8b5cf6" stroke-width="1.5"/>
                    <line x1="65" y1="15" x2="65" y2="85" stroke="#8b5cf6" stroke-width="1.5"/>
                    <line x1="15" y1="40" x2="85" y2="40" stroke="#8b5cf6" stroke-width="1.5"/>
                    <line x1="15" y1="65" x2="85" y2="65" stroke="#8b5cf6" stroke-width="1.5"/>
                    <text x="22" y="27" font-size="8" fill="#a78bfa" text-anchor="middle">5</text>
                    <text x="32" y="27" font-size="8" fill="#a78bfa" text-anchor="middle">3</text>
                    <text x="52" y="47" font-size="8" fill="#a78bfa" text-anchor="middle">7</text>
                    <text x="62" y="57" font-size="8" fill="#a78bfa" text-anchor="middle">9</text>
                    <text x="78" y="77" font-size="8" fill="#a78bfa" text-anchor="middle">6</text>
                </svg>`
            },
            hive: {
                name: 'Hive',
                url: 'games/hive.html',
                icon: `<svg class="icon" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="hexGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#4a9f68;stop-opacity:0.6" />
                            <stop offset="100%" style="stop-color:#1a472a;stop-opacity:0.6" />
                        </linearGradient>
                        <linearGradient id="hexGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#3d9a5f;stop-opacity:0.4" />
                            <stop offset="100%" style="stop-color:#0f3420;stop-opacity:0.4" />
                        </linearGradient>
                    </defs>
                    <polygon points="38,16 45,12 52,16 52,26 45,30 38,26" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                    <polygon points="52,16 59,12 66,16 66,26 59,30 52,26" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                    <polygon points="31,32 38,28 45,32 45,42 38,46 31,42" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                    <polygon points="45,32 52,28 59,32 59,42 52,46 45,42" fill="url(#hexGradient1)" stroke="#2d7a4f" stroke-width="1.2"/>
                    <polygon points="59,32 66,28 73,32 73,42 66,46 59,42" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                    <polygon points="38,48 45,44 52,48 52,58 45,62 38,58" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                    <polygon points="52,48 59,44 66,48 66,58 59,62 52,58" fill="url(#hexGradient2)" stroke="#2d7a4f" stroke-width="1.2"/>
                    <circle cx="48" cy="36" r="3.5" fill="#5599ff" stroke="#1155cc" stroke-width="0.8"/>
                    <circle cx="56" cy="36" r="3.5" fill="#ffaa44" stroke="#dd6611" stroke-width="0.8"/>
                    <circle cx="48" cy="44" r="3" fill="#4a7ccc" stroke="#1155cc" stroke-width="0.8"/>
                    <circle cx="56" cy="44" r="3" fill="#ff9922" stroke="#dd6611" stroke-width="0.8"/>
                    <circle cx="52" cy="40" r="2.8" fill="#FFD700" stroke="#FFA500" stroke-width="0.7"/>
                </svg>`
            }
        };

        // Get or set favorite game
        function getFavoriteGame() {
            return localStorage.getItem('favoriteGame') || 'solitaire';
        }

        function setFavoriteGame(gameName) {
            localStorage.setItem('favoriteGame', gameName);
            updateFavoriteDisplay();
        }

        // Update the favorite game display
        function updateFavoriteDisplay() {
            const favoriteGame = getFavoriteGame();
            const favoriteLinkEl = document.getElementById('favorite-game-link');
            const game = GAMES[favoriteGame];

            if (game) {
                favoriteLinkEl.innerHTML = game.icon + '<div class="service-name">' + game.name + '</div>';
                favoriteLinkEl.setAttribute('data-url', game.url);
            }

            // Update favorite indicators in modal
            document.querySelectorAll('.favorite-indicator').forEach(indicator => {
                const gameName = indicator.getAttribute('data-game');
                if (gameName === favoriteGame) {
                    indicator.classList.add('active');
                    indicator.classList.remove('inactive');
                } else {
                    indicator.classList.remove('active');
                    indicator.classList.add('inactive');
                }
            });
        }

        // Handle favorite star clicks
        document.querySelectorAll('.favorite-indicator').forEach(star => {
            star.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const gameName = this.getAttribute('data-game');
                setFavoriteGame(gameName);
            });
        });

        // Handle game option clicks
        document.querySelectorAll('.game-option').forEach(option => {
            option.addEventListener('click', function(e) {
                // Don't navigate if clicking on the star
                if (e.target.classList.contains('favorite-indicator')) {
                    return;
                }
                e.preventDefault();
                e.stopPropagation();
                const url = this.getAttribute('data-url');
                navigateToService(url, e);
            });
        });

        // Initialize favorite game on load
        window.addEventListener('load', () => {
            updateFavoriteDisplay();
        });
    </script>
</body>
</html>
